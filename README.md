# j2push
## 推送系统
说是推送系统有点大，其实就是一个消息广播功能吧。作用其实也就是由服务端接收到消息然后推送到订阅的客户端。

## 思路
对于推送最关键的是服务端向客户端发送数据，客户端向服务端订阅自己想要的消息。这样的好处就是有消息后才向客户端推送，相比于拉取数据不会产生许多无效的查询，实时性也高。

xmpp这种即时通信协议基于TCP长连接还是比较符合这种场景的。只需要在服务端增加一个模块用于接收用户订阅与数据的推送就完成了主体功能。

在xmpp协议里可以扩展组件，这样我们写一个组件，然后连接到xmpp服务器，这样就可以应用于不同的xmpp服务器。

## 准备工作
### 主要的环境
因为我比较熟悉openfire的体系，所以自然就用它。客户端暂时没有特别的需求，只是用于接收数据，所以用smack或者任何一款xmpp 客户端都可以。我为了简单就用smack写一个简单的代码。

### 需要用到的jar包
用到的了whack的core，在maven工程里直接引用即可，相关的依赖包会自动加载进来
```
<dependency>
  <groupId>org.igniterealtime.whack</groupId>
  <artifactId>core</artifactId>
  <version>2.0.1-SNAPSHOT</version>
  <type>jar</type>
</dependency>
```
